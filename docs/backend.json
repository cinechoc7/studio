{
  "entities": {
    "Package": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Package",
      "type": "object",
      "description": "Represents a package being tracked.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the package."
        },
        "trackingCode": {
          "type": "string",
          "description": "The tracking code associated with the package."
        },
        "currentStatus": {
          "type": "string",
          "description": "The current status of the package (e.g., 'In Transit', 'Delivered')."
        },
        "currentLocation": {
          "type": "string",
          "description": "The current location of the package."
        },
        "destination": {
          "type": "string",
          "description": "The final destination of the package."
        },
        "customerId": {
          "type": "string",
          "description": "Reference to Customer. (Relationship: Customer 1:N Package)"
        }
      },
      "required": [
        "id",
        "trackingCode",
        "currentStatus",
        "currentLocation",
        "destination",
        "customerId"
      ]
    },
    "PackageStatusUpdate": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PackageStatusUpdate",
      "type": "object",
      "description": "Represents a status update for a package.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the package status update."
        },
        "packageId": {
          "type": "string",
          "description": "Reference to Package. (Relationship: Package 1:N PackageStatusUpdate)"
        },
        "timestamp": {
          "type": "string",
          "description": "The timestamp of the status update.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The status of the package at the time of the update (e.g., 'Processing', 'Shipped', 'Delivered')."
        },
        "location": {
          "type": "string",
          "description": "The location of the package at the time of the update."
        },
        "notes": {
          "type": "string",
          "description": "Admin supplied notes regarding this status change, if any."
        }
      },
      "required": [
        "id",
        "packageId",
        "timestamp",
        "status",
        "location"
      ]
    },
    "Customer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Customer",
      "type": "object",
      "description": "Represents a customer who is tracking a package.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the customer."
        },
        "name": {
          "type": "string",
          "description": "The name of the customer."
        },
        "email": {
          "type": "string",
          "description": "The email address of the customer.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "The phone number of the customer."
        }
      },
      "required": [
        "id",
        "name",
        "email"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/packages/{packageId}": {
      "schema": {
        "$ref": "#/backend/entities/Package"
      },
      "description": "Stores individual package documents. Each document is a unique parcel. This collection is readable by the public for single documents, but writable only by authenticated admins."
    }
  }
}
